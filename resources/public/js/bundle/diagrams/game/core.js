// Compiled by ClojureScript 1.11.57 {:optimizations :whitespace}
goog.provide('diagrams.game.core');
goog.require('cljs.core');
goog.require('diagrams.matrix');
diagrams.game.core.is_mask_elem_QMARK_ = (function diagrams$game$core$is_mask_elem_QMARK_(elem){
return ((cljs.core._EQ_.call(null,elem,new cljs.core.Keyword(null,"empty","empty",767870958))) || (((cljs.core._EQ_.call(null,elem,new cljs.core.Keyword(null,"chest","chest",2066810546))) || (cljs.core._EQ_.call(null,elem,new cljs.core.Keyword(null,"mob","mob",1731093830))))));
});
diagrams.game.core.sizes_match_QMARK_ = (function diagrams$game$core$sizes_match_QMARK_(mask,h_hints,v_hints){
var vec__455568 = diagrams.matrix.get_dim.call(null,mask);
var mask_w = cljs.core.nth.call(null,vec__455568,(0),null);
var mask_h = cljs.core.nth.call(null,vec__455568,(1),null);
var h_count = cljs.core.count.call(null,h_hints);
var v_count = cljs.core.count.call(null,v_hints);
return ((cljs.core._EQ_.call(null,mask_w,h_count)) && (cljs.core._EQ_.call(null,mask_h,v_count)));
});
diagrams.game.core.valid_game_params_QMARK_ = (function diagrams$game$core$valid_game_params_QMARK_(mask,h_hints,v_hints){
return ((cljs.core.every_QMARK_.call(null,(function (p1__455571_SHARP_){
return cljs.core.every_QMARK_.call(null,diagrams.game.core.is_mask_elem_QMARK_,p1__455571_SHARP_);
}),mask)) && (diagrams.game.core.sizes_match_QMARK_.call(null,mask,h_hints,v_hints)));
});
diagrams.game.core.new_game = (function diagrams$game$core$new_game(mask,h_hints,v_hints){
if(diagrams.game.core.valid_game_params_QMARK_.call(null,mask,h_hints,v_hints)){
return new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"mask","mask",-585748447),mask,new cljs.core.Keyword(null,"h-hints","h-hints",-670618653),h_hints,new cljs.core.Keyword(null,"v-hints","v-hints",827217637),v_hints], null);
} else {
return null;
}
});
diagrams.game.core.is_occupied_QMARK_ = (function diagrams$game$core$is_occupied_QMARK_(game,x,y){
var mask = new cljs.core.Keyword(null,"mask","mask",-585748447).cljs$core$IFn$_invoke$arity$1(game);
var elem = cljs.core.get_in.call(null,mask,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [x,y], null));
return cljs.core.not_EQ_.call(null,elem,new cljs.core.Keyword(null,"empty","empty",767870958));
});
diagrams.game.core.test_game = diagrams.game.core.new_game.call(null,new cljs.core.PersistentVector(null, 8, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.PersistentVector(null, 8, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"empty","empty",767870958),new cljs.core.Keyword(null,"empty","empty",767870958),new cljs.core.Keyword(null,"empty","empty",767870958),new cljs.core.Keyword(null,"empty","empty",767870958),new cljs.core.Keyword(null,"empty","empty",767870958),new cljs.core.Keyword(null,"empty","empty",767870958),new cljs.core.Keyword(null,"empty","empty",767870958),new cljs.core.Keyword(null,"empty","empty",767870958)], null),new cljs.core.PersistentVector(null, 8, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"empty","empty",767870958),new cljs.core.Keyword(null,"empty","empty",767870958),new cljs.core.Keyword(null,"empty","empty",767870958),new cljs.core.Keyword(null,"empty","empty",767870958),new cljs.core.Keyword(null,"empty","empty",767870958),new cljs.core.Keyword(null,"empty","empty",767870958),new cljs.core.Keyword(null,"empty","empty",767870958),new cljs.core.Keyword(null,"mob","mob",1731093830)], null),new cljs.core.PersistentVector(null, 8, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"empty","empty",767870958),new cljs.core.Keyword(null,"empty","empty",767870958),new cljs.core.Keyword(null,"mob","mob",1731093830),new cljs.core.Keyword(null,"empty","empty",767870958),new cljs.core.Keyword(null,"empty","empty",767870958),new cljs.core.Keyword(null,"empty","empty",767870958),new cljs.core.Keyword(null,"empty","empty",767870958),new cljs.core.Keyword(null,"empty","empty",767870958)], null),new cljs.core.PersistentVector(null, 8, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"empty","empty",767870958),new cljs.core.Keyword(null,"empty","empty",767870958),new cljs.core.Keyword(null,"empty","empty",767870958),new cljs.core.Keyword(null,"empty","empty",767870958),new cljs.core.Keyword(null,"empty","empty",767870958),new cljs.core.Keyword(null,"empty","empty",767870958),new cljs.core.Keyword(null,"empty","empty",767870958),new cljs.core.Keyword(null,"mob","mob",1731093830)], null),new cljs.core.PersistentVector(null, 8, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"empty","empty",767870958),new cljs.core.Keyword(null,"empty","empty",767870958),new cljs.core.Keyword(null,"empty","empty",767870958),new cljs.core.Keyword(null,"empty","empty",767870958),new cljs.core.Keyword(null,"empty","empty",767870958),new cljs.core.Keyword(null,"empty","empty",767870958),new cljs.core.Keyword(null,"empty","empty",767870958),new cljs.core.Keyword(null,"empty","empty",767870958)], null),new cljs.core.PersistentVector(null, 8, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"empty","empty",767870958),new cljs.core.Keyword(null,"chest","chest",2066810546),new cljs.core.Keyword(null,"empty","empty",767870958),new cljs.core.Keyword(null,"empty","empty",767870958),new cljs.core.Keyword(null,"empty","empty",767870958),new cljs.core.Keyword(null,"empty","empty",767870958),new cljs.core.Keyword(null,"empty","empty",767870958),new cljs.core.Keyword(null,"mob","mob",1731093830)], null),new cljs.core.PersistentVector(null, 8, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"empty","empty",767870958),new cljs.core.Keyword(null,"empty","empty",767870958),new cljs.core.Keyword(null,"empty","empty",767870958),new cljs.core.Keyword(null,"empty","empty",767870958),new cljs.core.Keyword(null,"empty","empty",767870958),new cljs.core.Keyword(null,"empty","empty",767870958),new cljs.core.Keyword(null,"empty","empty",767870958),new cljs.core.Keyword(null,"empty","empty",767870958)], null),new cljs.core.PersistentVector(null, 8, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"empty","empty",767870958),new cljs.core.Keyword(null,"empty","empty",767870958),new cljs.core.Keyword(null,"empty","empty",767870958),new cljs.core.Keyword(null,"empty","empty",767870958),new cljs.core.Keyword(null,"empty","empty",767870958),new cljs.core.Keyword(null,"empty","empty",767870958),new cljs.core.Keyword(null,"empty","empty",767870958),new cljs.core.Keyword(null,"mob","mob",1731093830)], null)], null),new cljs.core.PersistentVector(null, 8, 5, cljs.core.PersistentVector.EMPTY_NODE, [(1),(4),(2),(7),(0),(4),(4),(4)], null),new cljs.core.PersistentVector(null, 8, 5, cljs.core.PersistentVector.EMPTY_NODE, [(3),(2),(5),(3),(4),(1),(4),(4)], null));
